# ==============================================================================
# üåç GLOBAL AYARLAR
# ==============================================================================
ENV="development"
# Log Level: DEBUG (Geli≈ütirme) veya INFO (Prod√ºksiyon)
LOG_LEVEL="INFO"
ENV_FILE_PATH=.env

CONFIG_REPO_PATH=../sentiric-config
CERTIFICATES_REPO_PATH=../sentiric-certificates
ASSETS_REPO_PATH=../sentiric-assets
# --- Security (mTLS) ---
GRPC_TLS_CA_PATH=/sentiric-certificates/certs/ca.crt

# ==============================================================================
# üÜî PROJE Kƒ∞MLƒ∞ƒûƒ∞ VE Aƒû
# ==============================================================================
PROJECT_NAME="sentiric"
PROJECT_TLD="cloud"

# Network (Docker Compose i√ßin)
NETWORK_NAME="sentiric.cloud"
NETWORK_SUBNET=10.88.0.0/16
NETWORK_GATEWAY=10.88.0.1

# Discovery Service (DNS)
DISCOVERY_DATACENTER_NAME="${PROJECT_NAME}-main"
DISCOVERY_DOMAIN="${PROJECT_NAME}.${PROJECT_TLD}"
DISCOVERY_SERVICE_SUBDOMAIN="service"
DISCOVERY_DNS_SEARCH_DOMAIN="${DISCOVERY_SERVICE_SUBDOMAIN}.${DISCOVERY_DOMAIN}"
DISCOVERY_METHOD="DNS"
DISCOVERY_SERVICE_IPV4_ADDRESS=10.88.5.1

# ==============================================================================
# üó£Ô∏è TTS SERVICE KONFƒ∞G√úRASYONU (COQUI XTTS v2)
# ==============================================================================

# --- Servis Adresleme ---
TTS_COQUI_SERVICE_HOST=tts-coqui-service
TTS_COQUI_SERVICE_IPV4_ADDRESS=10.88.40.3
TTS_COQUI_SERVICE_HTTP_PORT=14030
TTS_COQUI_SERVICE_GRPC_PORT=14031
TTS_COQUI_SERVICE_METRICS_PORT=14032
# CORS (Virg√ºlle ayrƒ±lmƒ±≈ü domain listesi veya *)
TTS_COQUI_SERVICE_CORS_ORIGINS="*"

# --- Model ve Lisans ---
TTS_COQUI_SERVICE_MODEL_NAME="tts_models/multilingual/multi-dataset/xtts_v2"
# Coqui CPML Lisans Kabul√º
TTS_COQUI_SERVICE_TOS_AGREED=1

# --- ‚ö° PERFORMANS & DONANIM (6GB VRAM OPTƒ∞Mƒ∞ZASYONU) ---
# Cihaz Se√ßimi: 'cuda' (Nvidia GPU) veya 'cpu'
TTS_COQUI_SERVICE_DEVICE=cuda

# [KRƒ∞Tƒ∞K] D√º≈ü√ºk Kaynak Modu: Modeli par√ßalƒ± y√ºkler ve agresif GC yapar.
# 6GB VRAM i√ßin MUTLAKA 'true' olmalƒ±.
TTS_COQUI_SERVICE_LOW_RESOURCE_MODE=true

# [KRƒ∞Tƒ∞K] Half Precision (FP16): VRAM kullanƒ±mƒ±nƒ± yarƒ± yarƒ±ya d√º≈ü√ºr√ºr, hƒ±zƒ± artƒ±rƒ±r.
TTS_COQUI_SERVICE_ENABLE_HALF_PRECISION=true

# [KRƒ∞Tƒ∞K] CPU Offloading: Attention katmanlarƒ±nƒ± RAM'e ta≈üƒ±r. VRAM'den tasarruf saƒülar.
TTS_COQUI_SERVICE_ENABLE_ATTENTION_KV_CPU_OFFLOAD=true

# DeepSpeed: Linux native ortamda hƒ±z artƒ±rƒ±r ama Docker'da karma≈üƒ±klƒ±k yaratabilir.
# Stabilite i√ßin ≈üimdilik kapalƒ±.
TTS_COQUI_SERVICE_ENABLE_DEEPSPEED=false

# Streaming: D√º≈ü√ºk gecikme i√ßin par√ßalƒ± g√∂nderim (true/false)
TTS_COQUI_SERVICE_ENABLE_STREAMING=false

# PyTorch Bellek Y√∂netimi (Bu deƒüi≈ükenin adƒ± standarttƒ±r, √∂n ek almaz)
# VRAM par√ßalanmasƒ±nƒ± √∂nler (Fragmentation Fix)
PYTORCH_CUDA_ALLOC_CONF=max_split_size_mb:64

# --- üéõÔ∏è VARSAYILAN SENTEZLEME AYARLARI (INFERENCE DEFAULTS) ---
# API isteklerinde belirtilmezse kullanƒ±lacak deƒüerler.
TTS_COQUI_SERVICE_DEFAULT_LANGUAGE="tr"
TTS_COQUI_SERVICE_DEFAULT_SPEAKER="Ana Florence"
TTS_COQUI_SERVICE_DEFAULT_TEMPERATURE=0.75
TTS_COQUI_SERVICE_DEFAULT_SPEED=1.0
TTS_COQUI_SERVICE_DEFAULT_TOP_K=50
TTS_COQUI_SERVICE_DEFAULT_TOP_P=0.85
TTS_COQUI_SERVICE_DEFAULT_REPETITION_PENALTY=2.0
TTS_COQUI_SERVICE_DEFAULT_SAMPLE_RATE=24000
TTS_COQUI_SERVICE_DEFAULT_OUTPUT_FORMAT="wav"

# --- Debug ve Loglama ---
# true: Renkli ve detaylƒ± loglar (Geli≈ütirme)
# false: JSON formatƒ±nda loglar (Prod√ºksiyon/Governance)
TTS_COQUI_SERVICE_DEBUG=true

# --- G√ºvenlik / Sertifikalar ---
TTS_COQUI_SERVICE_CERT_PATH=/sentiric-certificates/certs/tts-coqui-service-chain.crt
TTS_COQUI_SERVICE_KEY_PATH=/sentiric-certificates/certs/tts-coqui-service.key