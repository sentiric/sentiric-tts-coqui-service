# ==============================================================================
# ðŸŒ GLOBAL AYARLAR
# ==============================================================================
ENV="development"
# Log Level: DEBUG (GeliÅŸtirme) veya INFO (ProdÃ¼ksiyon)
LOG_LEVEL="INFO"
ENV_FILE_PATH=.env

CONFIG_REPO_PATH=../sentiric-config
ASSETS_REPO_PATH=../sentiric-assets
DATABASE_REPO_PATH=../sentiric-database

# --- Security (mTLS) ---
CERTIFICATES_REPO_PATH=../sentiric-certificates
GRPC_TLS_CA_PATH=/sentiric-certificates/certs/ca.crt
NVIDIA_VISIBLE_DEVICES=all
NVIDIA_DISABLE_REQUIRE=true

# ==============================================================================
# ðŸ†” PROJE KÄ°MLÄ°ÄžÄ° VE AÄž
# ==============================================================================
PROJECT_NAME="sentiric"
PROJECT_TLD="cloud"

# Network (Docker Compose iÃ§in)
NETWORK_NAME="sentiric.cloud"
NETWORK_SUBNET=10.88.0.0/16
NETWORK_GATEWAY=10.88.0.1

# Discovery Service (DNS)
DISCOVERY_DATACENTER_NAME="${PROJECT_NAME}-main"
DISCOVERY_DOMAIN="${PROJECT_NAME}.${PROJECT_TLD}"
DISCOVERY_SERVICE_SUBDOMAIN="service"
DISCOVERY_DNS_SEARCH_DOMAIN="${DISCOVERY_SERVICE_SUBDOMAIN}.${DISCOVERY_DOMAIN}"
DISCOVERY_METHOD="DNS"
DISCOVERY_SERVICE_IPV4_ADDRESS=10.88.5.1

# ==============================================================================
# ðŸ—£ï¸ TTS SERVICE KONFÄ°GÃœRASYONU (COQUI XTTS v2)
# ==============================================================================

# --- Servis Adresleme ---
TTS_COQUI_SERVICE_HOST=tts-coqui-service
TTS_COQUI_SERVICE_IPV4_ADDRESS=10.88.40.3
TTS_COQUI_SERVICE_HTTP_PORT=14030
TTS_COQUI_SERVICE_GRPC_PORT=14031
TTS_COQUI_SERVICE_METRICS_PORT=14032
# CORS (VirgÃ¼lle ayrÄ±lmÄ±ÅŸ domain listesi veya *)
TTS_COQUI_SERVICE_CORS_ORIGINS="*"

# --- Model ve Lisans ---
TTS_COQUI_SERVICE_MODEL_NAME="tts_models/multilingual/multi-dataset/xtts_v2"
# Coqui CPML Lisans KabulÃ¼
TTS_COQUI_SERVICE_TOS_AGREED=1

# --- âš¡ PERFORMANS & DONANIM (6GB VRAM OPTÄ°MÄ°ZASYONU) ---
# Cihaz SeÃ§imi: 'cuda' (Nvidia GPU) veya 'cpu'
TTS_COQUI_SERVICE_DEVICE=cuda

# [KRÄ°TÄ°K] DÃ¼ÅŸÃ¼k Kaynak Modu: Modeli parÃ§alÄ± yÃ¼kler ve agresif GC yapar.
# 6GB VRAM iÃ§in MUTLAKA 'true' olmalÄ±.
TTS_COQUI_SERVICE_LOW_RESOURCE_MODE=true

# [KRÄ°TÄ°K] Half Precision (FP16): VRAM kullanÄ±mÄ±nÄ± yarÄ± yarÄ±ya dÃ¼ÅŸÃ¼rÃ¼r, hÄ±zÄ± artÄ±rÄ±r.
TTS_COQUI_SERVICE_ENABLE_HALF_PRECISION=true

# [KRÄ°TÄ°K] CPU Offloading: Attention katmanlarÄ±nÄ± RAM'e taÅŸÄ±r. VRAM'den tasarruf saÄŸlar.
TTS_COQUI_SERVICE_ENABLE_ATTENTION_KV_CPU_OFFLOAD=true

# DeepSpeed: Linux native ortamda hÄ±z artÄ±rÄ±r ama Docker'da karmaÅŸÄ±klÄ±k yaratabilir.
# Stabilite iÃ§in ÅŸimdilik kapalÄ±.
TTS_COQUI_SERVICE_ENABLE_DEEPSPEED=false

# Streaming: DÃ¼ÅŸÃ¼k gecikme iÃ§in parÃ§alÄ± gÃ¶nderim (true/false)
TTS_COQUI_SERVICE_ENABLE_STREAMING=false

# PyTorch Bellek YÃ¶netimi (Bu deÄŸiÅŸkenin adÄ± standarttÄ±r, Ã¶n ek almaz)
# VRAM parÃ§alanmasÄ±nÄ± Ã¶nler (Fragmentation Fix)
PYTORCH_CUDA_ALLOC_CONF=max_split_size_mb:64

# --- ðŸŽ›ï¸ VARSAYILAN SENTEZLEME AYARLARI (INFERENCE DEFAULTS) ---
# API isteklerinde belirtilmezse kullanÄ±lacak deÄŸerler.
TTS_COQUI_SERVICE_DEFAULT_LANGUAGE="tr"
TTS_COQUI_SERVICE_DEFAULT_SPEAKER="F_TR_Genc_Selin/neutral"
# TTS_COQUI_SERVICE_DEFAULT_SPEAKER="F_TR_Parlak_Zeynep/neutral"

# Stabilite iÃ§in dÃ¼ÅŸÃ¼k temperature (Daha az halÃ¼sinasyon, daha net okuma)
TTS_COQUI_SERVICE_DEFAULT_TEMPERATURE=0.50
# HÄ±z: 
TTS_COQUI_SERVICE_DEFAULT_SPEED=1.05
# Top K: 50 (Sabit)
TTS_COQUI_SERVICE_DEFAULT_TOP_K=50
# Top P: 0.85 -> 0.8 (Daha bilindik tokenleri seÃ§)
TTS_COQUI_SERVICE_DEFAULT_TOP_P=0.8
# Repetition Penalty: 2.0 -> 5.0 (TekrarlamalarÄ± ve takÄ±lmalarÄ± sert engelle)
TTS_COQUI_SERVICE_DEFAULT_REPETITION_PENALTY=5.0
TTS_COQUI_SERVICE_DEFAULT_SAMPLE_RATE=24000
TTS_COQUI_SERVICE_DEFAULT_OUTPUT_FORMAT="wav"

# --- Debug ve Loglama ---
# true: Renkli ve detaylÄ± loglar (GeliÅŸtirme)
# false: JSON formatÄ±nda loglar (ProdÃ¼ksiyon/Governance)
TTS_COQUI_SERVICE_DEBUG=true

# --- GÃ¼venlik / Sertifikalar ---
TTS_COQUI_SERVICE_CERT_PATH=/sentiric-certificates/certs/tts-coqui-service-chain.crt
TTS_COQUI_SERVICE_KEY_PATH=/sentiric-certificates/certs/tts-coqui-service.key